var kmrSimpleTabs = { sbContainerClass: "simpleTabs", sbNavClass: "simpleTabsNavigation", sbContentClass: "simpleTabsContent", sbCurrentNavClass: "current", sbCurrentTabClass: "currentTab", sbIdPrefix: "tabber", init: function () { if (!document.getElementsByTagName) { return false } if (!document.getElementById) { return false } var q = document.getElementsByTagName("div"); for (var m = 0; m < q.length; m++) { if (q[m].className == kmrSimpleTabs.sbContainerClass) { q[m].setAttribute("id", kmrSimpleTabs.sbIdPrefix + [m]); var n = q[m].getAttribute("id"); var o = q[m].getElementsByTagName("ul"); for (var h = 0; h < o.length; h++) { if (o[h].className == kmrSimpleTabs.sbNavClass) { var r = o[h].getElementsByTagName("a"); for (var g = 0; g < r.length; g++) { r[g].setAttribute("id", n + "_a_" + g); if (kmrSimpleTabs.readCookie("simpleTabsCookie")) { var p = kmrSimpleTabs.readCookie("simpleTabsCookie").split("_"); var d = p[1]; var e = p[2]; if (r[g].parentNode.parentNode.parentNode.getAttribute("id") == kmrSimpleTabs.sbIdPrefix + d) { if (r[g].getAttribute("id") == kmrSimpleTabs.sbIdPrefix + d + "_a_" + e) { r[g].className = kmrSimpleTabs.sbCurrentNavClass } else { r[g].className = "" } } else { r[0].className = kmrSimpleTabs.sbCurrentNavClass } } else { r[0].className = kmrSimpleTabs.sbCurrentNavClass } r[g].onclick = function () { kmrSimpleTabs.setCurrent(this, "simpleTabsCookie"); this.blur(); return false } } } } var c = q[m].getElementsByTagName("div"); var b = 0; for (var f = 0; f < c.length; f++) { if (c[f].className == kmrSimpleTabs.sbContentClass) { c[f].setAttribute("id", n + "_div_" + [b]); if (kmrSimpleTabs.readCookie("simpleTabsCookie")) { var p = kmrSimpleTabs.readCookie("simpleTabsCookie").split("_"); var d = p[1]; var e = p[2]; if (c[f].parentNode.getAttribute("id") == kmrSimpleTabs.sbIdPrefix + d) { if (c[f].getAttribute("id") == kmrSimpleTabs.sbIdPrefix + d + "_div_" + e) { c[f].className = kmrSimpleTabs.sbContentClass + " " + kmrSimpleTabs.sbCurrentTabClass } else { c[f].className = kmrSimpleTabs.sbContentClass } } else { c[0].className = kmrSimpleTabs.sbContentClass + " " + kmrSimpleTabs.sbCurrentTabClass } } else { c[0].className = kmrSimpleTabs.sbContentClass + " " + kmrSimpleTabs.sbCurrentTabClass } b++ } } } } }, setCurrent: function (k, b) { this.eraseCookie(b); var m = k.parentNode.parentNode.parentNode.getAttribute("id"); var h = m + "_a_"; var a = k.getAttribute("id").replace(h, ""); var j = k.parentNode.parentNode.getElementsByTagName("a"); for (var e = 0; e < j.length; e++) { j[e].className = "" } k.className = kmrSimpleTabs.sbCurrentNavClass; var l = document.getElementById(m).getElementsByTagName("div"); var c = new RegExp(kmrSimpleTabs.sbContentClass); for (var g = 0; g < l.length; g++) { if (c.test(l[g].className)) { l[g].className = kmrSimpleTabs.sbContentClass } } document.getElementById(m + "_div_" + a).className = kmrSimpleTabs.sbContentClass + " " + kmrSimpleTabs.sbCurrentTabClass; var f = new RegExp(kmrSimpleTabs.sbIdPrefix); var d = m.replace(f, ""); this.createCookie(b, "simpleTabsCookie_" + d + "_" + a, 1) }, createCookie: function (c, d, e) { if (e) { var b = new Date(); b.setTime(b.getTime() + (e * 24 * 60 * 60 * 1000)); var a = "; expires=" + b.toGMTString() } else { var a = "" } document.cookie = c + "=" + d + a + "; path=/" }, readCookie: function (b) { var e = b + "="; var a = document.cookie.split(";"); for (var d = 0; d < a.length; d++) { var f = a[d]; while (f.charAt(0) == " ") { f = f.substring(1, f.length) } if (f.indexOf(e) == 0) { return f.substring(e.length, f.length) } } return null }, eraseCookie: function (a) { this.createCookie(a, "", -1) }, addLoadEvent: function (a) { var b = window.onload; if (typeof window.onload != "function") { window.onload = a } else { window.onload = function () { if (b) { b() } a() } } } }; kmrSimpleTabs.addLoadEvent(kmrSimpleTabs.init);

